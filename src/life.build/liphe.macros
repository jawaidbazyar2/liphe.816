 MACRO&lab _CtlStartUp&lab ldx #$0210 jsl $E10000 MEND MACRO&lab _CtlShutDown&lab ldx #$0310 jsl $E10000 MEND MACRO&lab _DeskStartUp&lab ldx #$0205 jsl $E10000 MEND MACRO&lab _DeskShutDown&lab ldx #$0305 jsl $E10000 MEND MACRO&lab _FixAppleMenu&lab ldx #$1E05 jsl $E10000 MEND MACRO&lab _DialogStartUp&lab ldx #$0215 jsl $E10000 MEND MACRO&lab _DialogShutDown&lab ldx #$0315 jsl $E10000 MEND MACRO&lab _EMStartUp&lab ldx #$0206 jsl $E10000 MEND MACRO&lab _EMShutDown&lab ldx #$0306 jsl $E10000 MEND MACRO&lab _LEStartUp&lab ldx #$0214 jsl $E10000 MEND MACRO&lab _LEShutDown&lab ldx #$0314 jsl $E10000 MEND MACRO&lab _TLStartUp&lab ldx #$0201 jsl $E10000 MEND MACRO&lab _TLShutDown&lab ldx #$0301 jsl $E10000 MEND MACRO&lab _LoadTools&lab ldx #$0E01 jsl $E10000 MEND MACRO&lab _TLMountVolume&lab ldx #$1101 jsl $E10000 MEND MACRO&lab _MMStartUp&lab ldx #$0202 jsl $E10000 MEND MACRO&lab _MMShutDown&lab ldx #$0302 jsl $E10000 MEND MACRO&lab _NewHandle&lab ldx #$0902 jsl $E10000 MEND MACRO&lab _DisposeAll&lab ldx #$1102 jsl $E10000 MEND MACRO&lab _MenuStartUp&lab ldx #$020F jsl $E10000 MEND MACRO&lab _MenuShutDown&lab ldx #$030F jsl $E10000 MEND MACRO&lab _InsertMenu&lab ldx #$0D0F jsl $E10000 MEND MACRO&lab _FixMenuBar&lab ldx #$130F jsl $E10000 MEND MACRO&lab _DrawMenuBar&lab ldx #$2A0F jsl $E10000 MEND MACRO&lab _NewMenu&lab ldx #$2D0F jsl $E10000 MEND MACRO&lab _MTStartUp&lab ldx #$0203 jsl $E10000 MEND MACRO&lab _MTShutDown&lab ldx #$0303 jsl $E10000 MEND MACRO&lab _SysFailMgr&lab ldx #$1503 jsl $E10000 MEND MACRO&lab _SET_PREFIX &params&lab jsl $E100A8 dc i2"9" dc i4"&params" MEND MACRO&lab _GET_PREFIX &params&lab jsl $E100A8 dc i2"$0A" dc i4"&params" MEND MACRO&lab _QUIT &params&lab jsl $E100A8 dc i2"$29" dc i4"&params" MEND MACRO&lab _QDStartUp&lab ldx #$0204 jsl $E10000 MEND MACRO&lab _QDShutDown&lab ldx #$0304 jsl $E10000 MEND MACRO&lab _ShowCursor&lab ldx #$9104 jsl $E10000 MEND MACRO&lab pushlong &addr,&offset&lab ANOP LCLC &C LCLC &REST&C AMID &addr,1,1 AIF "&C"="#",.immediate AIF "&C"="[",.zeropage AIF C:&offset=0,.nooffset AIF "&offset"="s",.stack pushword &addr+2,&offset pushword &addr,&offset MEXIT.nooffset pushword &addr+2 pushword &addr MEXIT.immediate&REST AMID &addr,2,L:&addr-1 dc I1'$F4',I2'(&REST)|-16' dc I1'$F4',I2'&REST' MEXIT.stack pushword &addr+2,s pushword &addr+2,s MEXIT.zeropage ldy #&offset+2 pushword &addr,y ldy #&offset pushword &addr,y MEND MACRO&lab pushword &SYSOPR&lab ANOP AIF c:&SYSOPR=0,.b LCLC &C&C AMID "&SYSOPR",1,1 AIF ("&C"="#").AND.(S:LONGA),.immediate lda &SYSOPR pha MEXIT.b pha MEXIT.immediate LCLC &REST LCLA &BL&BL ASEARCH "&SYSOPR"," ",1 AIF &BL>0,.a&BL SETA L:&SYSOPR+1.a&REST AMID "&SYSOPR",2,&BL-2 dc I1'$F4',I2'&REST' MEND MACRO&lab str &string&lab dc i1'l:&string',c'&string' MEND MACRO&lab _WindStartUp&lab ldx #$020E jsl $E10000 MEND MACRO&lab _WindShutDown&lab ldx #$030E jsl $E10000 MEND MACRO&lab _NewWindow&lab ldx #$090E jsl $E10000 MEND MACRO&lab _RefreshDesktop&lab ldx #$390E jsl $E10000 MEND MACRO&lab _HiliteMenu&lab ldx #$2C0F jsl $E10000 MEND MACRO&lab _TaskMaster&lab ldx #$1D0E jsl $E10000 MEND MACRO&lab _GetMouse&lab ldx #$0C06 jsl $E10000 MEND MACRO&lab _StillDown&lab ldx #$0E06 jsl $E10000 MEND MACRO&lab _HideCursor&lab ldx #$9004 jsl $E10000 MEND MACRO&lab _IntSource&lab ldx #$2303 jsl $E10000 MEND MACRO&lab _SetPort&lab ldx #$1B04 jsl $E10000 MEND MACRO&lab _SFStartUp&lab ldx #$0217 jsl $E10000 MEND MACRO&lab _SFShutDown&lab ldx #$0317 jsl $E10000 MEND