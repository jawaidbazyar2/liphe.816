*********************** LIFE DRIVER 1.0 ***********************; DSECT ORG $00GENNO DS 2POPULATION DS 2CNT1 DS 2CNT2 DS 2CELLB DS 2CELLD DS 2TEMPC DS 1 DEND;CH EQU $057B VC EQU $25BASL EQU $28CINPLT EQU $38DOSHOOK EQU $03EACHARINV EQU $CEDDKEYBOARD EQU $C000KEYSTROBE EQU $C010SWITCH EQU $C054LINPRT EQU $ED24PRBLNK EQU $F948VTABZ EQU $FC24; ORG $6000  JMP GENGO; JMP CLRARY3VTAB LDX VC DEX TXA JMP VTABZNEXTGEN LDA #0 STA CELLB STA CELLB+1 STA CELLD STA CELLD+1 LDA #$00  STA CNT2 LDA #$50  STA CNT2+1 LDA #$53 STA CNT1 LDA #$40 STA CNT1+1 LDA #1 STA CH STA VC JSR CLRARYCHECKCELL LDY #0 LDA (CNT1),Y BEQ DEAD LDY #0 CLC LDA (CNT2),Y ADC #1 STA (CNT2),Y INY LDA (CNT2),Y ADC #1 STA (CNT2),Y INY LDA (CNT2),Y ADC #1 STA (CNT2),Y LDY #$52 LDA (CNT2),Y ADC #1 STA (CNT2),Y LDY #$54 LDA (CNT2),Y ADC #1 STA (CNT2),Y LDY #$A4 LDA (CNT2),Y ADC #1 STA (CNT2),Y INY LDA (CNT2),Y ADC #1 STA (CNT2),Y INY LDA (CNT2),Y ADC #1 STA (CNT2),YDEAD INC CH LDA CH CMP #81 BCS DONELINE INC CNT1 BNE DOCNT2 INC CNT1+1DOCNT2 INC CNT2 BNE CHECKCELL INC CNT2+1 BNE CHECKCELLDONELINE LDA #1 STA CH INC VC LDA VC CMP #24  BCS DONESCR LDA #3 CLC ADC CNT1 STA CNT1 LDA CNT1+1 ADC #0 STA CNT1+1 LDA #3 CLC ADC CNT2 STA CNT2 LDA CNT2+1 ADC #0 STA CNT2+1 JMP CHECKCELL;DONE WITH SCAN,NOW DO SCREEN UPDAYEDONESCR LDA #$50 STA CNT2+1 LDA #$53 STA CNT1 STA CNT2 LDA #$40 STA CNT1+1 LDA #1 STA CH STA VC JSR VTABLOOPIT LDY #0 LDA (CNT1),Y BEQ DEADCS LDA (CNT2),Y CMP #2 BEQ NEXTONE CMP #3 BEQ NEXTONE LDA #0 STA (CNT1),Y LDY CH DEY LDA #' ' JSR STORCHAR INC CELLD BNE NEXTONE INC CELLD+1 BNE NEXTONEDEADCS LDA (CNT2),Y CMP #3 BNE NEXTONE LDA #1 STA (CNT1),Y LDY CH DEY LDA #'*' JSR STORCHAR INC CELLB BNE NEXTONE INC CELLB+1NEXTONE INC CH LDA CH CMP #81 BCS DONELIN1 INC CNT1 INC CNT2 BNE X1 INC CNT1+1 INC CNT2+1X1 JMP LOOPITDONELIN1 LDA #1 STA CH INC VC JSR VTAB LDA VC CMP #24  BCS DONESCR2 LDA #3 CLC ADC CNT1 STA CNT1 STA CNT2 PHP LDA CNT1+1 ADC #0 STA CNT1+1 PLP LDA CNT2+1 ADC #0 STA CNT2+1 JMP LOOPITDONESCR2 RTS;;; DID THAT ONE OKGENGO JSR NEXTGEN INC GENNO BNE GENG1 INC GENNO+1GENG1 LDA #23 JSR VTABZ LDA #32  STA CH LDX GENNO LDA GENNO+1 JSR LINPRT JSR PRBLNK LDA CELLB CLC ADC POPULATION STA POPULATION LDA CELLB+1 ADC POPULATION+1 STA POPULATION+1 LDA POPULATION SEC SBC CELLD STA POPULATION LDA POPULATION+1 SBC CELLD+1 STA POPULATION+1 LDA #12  STA CH LDX POPULATION LDA POPULATION+1 JSR LINPRT ;LINE # PRINT JSR PRBLNK LDA KEYBOARD CMP #$9B BEQ QUITGEN LDA POPULATION ORA POPULATION+1 BEQ QUITGEN LDA CELLB ORA CELLB+1 ORA CELLD ORA CELLD+1 BEQ QUITGEN JMP GENGOQUITGEN STA KEYSTROBE RTSCLRARY LDY #0 TYACLRARY1 STA $4F00,Y STA $5000,Y STA $5100,Y STA $5200,Y STA $5300,Y STA $5400,Y STA $5500,Y STA $5600,Y STA $5800,Y STA $5700,Y INY BNE CLRARY1 RTS;;THIS IS THE CLEAR ROUTINE USED FROM THE BASIC PROGRAM ;CLRARY3 LDY #0 TYACLRARY2 STA $4000,Y STA $4100,Y STA $4200,Y STA $4300,Y STA $4400,Y STA $4500,Y STA $4600,Y STA $4700,Y INY BNE CLRARY2 STA $4800 STA $4801 STA $4802 RTSSTORCHAR PHA AND #$FF BMI ST5E8B LDA $04FB ROR A  PLA PHA BCC ST5E8B BIT $C01E BPL ST5E8B EOR #$40 BIT BITLOC  BEQ ST5E8B EOR #$40ST5E8B BIT $C01F BPL ST5EAD STA $C001 PHA STY $2A TYA EOR $20 LSR A  BCS ST5EA0 LDA $C055 INYST5EA0 TYA LSR A  TAY PLA STA ($28),Y LDA $C054 LDY $2A PLABITLOC RTSST5EAD STA ($28),Y PLA RTS